"use strict";(self.webpackChunkburnit=self.webpackChunkburnit||[]).push([[242],{6288:(ee,X,p)=>{p.d(X,{e:()=>j});var i=p(4946),I=p(9862);let j=(()=>{class S{constructor(){this._apiURL="/__api",this._http=(0,i.f3M)(I.eN)}addMessage(A){return this._http.post(`${this._apiURL}/Messages/`,A)}getMessageSnapshot(A){let M=`${this._apiURL}/Messages/${A}`,b=new I.WM({Preflight:1});return this._http.get(M,{headers:b})}getMessageContent(A,M=""){let b=`${this._apiURL}/Messages/${A}`,k=new I.WM({Authorization:M});return this._http.get(b,{headers:k})}static#t=this.\u0275fac=function(M){return new(M||S)};static#e=this.\u0275prov=i.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},95:(ee,X,p)=>{p.d(X,{Fj:()=>st,u5:()=>Bn,JJ:()=>Wt,On:()=>_e});var i=p(4946),I=p(6814),j=p(7715),S=p(5592),$=p(7453),A=p(4829),M=p(9940),b=p(8251),k=p(7400),L=p(2714),Ct=p(7398);let Y=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#t=this.\u0275fac=function(r){return new(r||e)(i.Y36(i.Qsj),i.Y36(i.SBq))};static#e=this.\u0275dir=i.lG2({type:e})}return e})(),H=(()=>{class e extends Y{static#t=this.\u0275fac=function(){let t;return function(s){return(t||(t=i.n5z(e)))(s||e)}}();static#e=this.\u0275dir=i.lG2({type:e,features:[i.qOj]})}return e})();const O=new i.OlP("NgValueAccessor"),re={provide:O,useExisting:(0,i.Gpc)(()=>st),multi:!0},ot=new i.OlP("CompositionEventMode");let st=(()=>{class e extends Y{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ie(){const e=(0,I.q)()?(0,I.q)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#t=this.\u0275fac=function(r){return new(r||e)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(ot,8))};static#e=this.\u0275dir=i.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&i.NdJ("input",function(f){return s._handleInput(f.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(f){return s._compositionEnd(f.target.value)})},features:[i._Bn([re]),i.qOj]})}return e})();const _=new i.OlP("NgValidators"),R=new i.OlP("NgAsyncValidators");function Kt(e){return null!=e}function Vt(e){return(0,i.QGY)(e)?(0,j.D)(e):e}function Q(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function lt(e,n){return n.map(t=>t(e))}function At(e){return e.map(n=>function Z(e){return!e.validate}(n)?n:t=>n.validate(t))}function Dt(e){return null!=e?function ct(e){if(!e)return null;const n=e.filter(Kt);return 0==n.length?null:function(t){return Q(lt(t,n))}}(At(e)):null}function ut(e){return null!=e?function Ut(e){if(!e)return null;const n=e.filter(Kt);return 0==n.length?null:function(t){return function G(...e){const n=(0,M.jO)(e),{args:t,keys:r}=(0,$.D)(e),s=new S.y(h=>{const{length:f}=t;if(!f)return void h.complete();const F=new Array(f);let it=f,vt=f;for(let te=0;te<f;te++){let Me=!1;(0,A.Xf)(t[te]).subscribe((0,b.x)(h,Rn=>{Me||(Me=!0,vt--),F[te]=Rn},()=>it--,void 0,()=>{(!it||!Me)&&(vt||h.next(r?(0,L.n)(r,F):F),h.complete())}))}});return n?s.pipe((0,k.Z)(n)):s}(lt(t,n).map(Vt)).pipe((0,Ct.U)(Q))}}(At(e)):null}function jt(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function Mt(e){return e?Array.isArray(e)?e:[e]:[]}function St(e,n){return Array.isArray(e)?e.includes(n):e===n}function Yt(e,n){const t=Mt(n);return Mt(e).forEach(s=>{St(t,s)||t.push(s)}),t}function qt(e,n){return Mt(n).filter(t=>!St(e,t))}class zt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Dt(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=ut(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class D extends zt{get formDirective(){return null}get path(){return null}}class K extends zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oe{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wt=(()=>{class e extends oe{constructor(t){super(t)}static#t=this.\u0275fac=function(r){return new(r||e)(i.Y36(K,2))};static#e=this.\u0275dir=i.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&i.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[i.qOj]})}return e})();const tt="VALID",U="INVALID",J="PENDING",et="DISABLED";function pt(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class pe{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===tt}get invalid(){return this.status===U}get pending(){return this.status==J}get disabled(){return this.status===et}get enabled(){return this.status!==et}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Yt(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Yt(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(qt(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(qt(n,this._rawAsyncValidators))}hasValidator(n){return St(this._rawValidators,n)}hasAsyncValidator(n){return St(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=J,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=et,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=tt,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tt||this.status===J)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?et:tt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=J,this._hasOwnPendingAsyncValidator=!0;const t=Vt(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?et:this.errors?U:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(J)?J:this._anyControlsHaveStatus(U)?U:tt}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){pt(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function xe(e){return Array.isArray(e)?Dt(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function ue(e){return Array.isArray(e)?ut(e):e||null}(this._rawAsyncValidators)}}const nt=new i.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>kt}),kt="always";function gt(e,n,t=kt){(function o(e,n){const t=function Lt(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(jt(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=function $t(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(jt(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const s=()=>e.updateValueAndValidity();l(n._rawValidators,s),l(n._rawAsyncValidators,s)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function u(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&m(e,n)})}(e,n),function v(e,n){const t=(r,s)=>{n.valueAccessor.writeValue(r),s&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function d(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&m(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function c(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function l(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function m(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ie(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function ke(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Ne=class extends pe{constructor(n=null,t,r){super(function xt(e){return(pt(e)?e.validators:e)||null}(t),function Xt(e,n){return(pt(n)?n.asyncValidators:e)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pt(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ke(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Ie(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Ie(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){ke(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},hn={provide:K,useExisting:(0,i.Gpc)(()=>_e)},Ge=(()=>Promise.resolve())();let _e=(()=>{class e extends K{constructor(t,r,s,h,f,F){super(),this._changeDetectorRef=f,this.callSetDisabledState=F,this.control=new Ne,this._registered=!1,this.name="",this.update=new i.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function ge(e,n){if(!n)return null;let t,r,s;return Array.isArray(n),n.forEach(h=>{h.constructor===st?t=h:function Qt(e){return Object.getPrototypeOf(e.constructor)===H}(h)?r=h:s=h}),s||r||t||null}(0,h)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function _t(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ge.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,i.VuI)(r);Ge.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function mt(e,n){return[...n.path,e]}(t,this._parent):[t]}static#t=this.\u0275fac=function(r){return new(r||e)(i.Y36(D,9),i.Y36(_,10),i.Y36(R,10),i.Y36(O,10),i.Y36(i.sBO,8),i.Y36(nt,8))};static#e=this.\u0275dir=i.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([hn]),i.qOj,i.TTD]})}return e})(),Be=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=i.oAB({type:e});static#n=this.\u0275inj=i.cJS({})}return e})(),Gn=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=i.oAB({type:e});static#n=this.\u0275inj=i.cJS({imports:[Be]})}return e})(),Bn=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:nt,useValue:t.callSetDisabledState??kt}]}}static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=i.oAB({type:e});static#n=this.\u0275inj=i.cJS({imports:[Gn]})}return e})()},2794:(ee,X,p)=>{p.d(X,{Mv:()=>W,xj:()=>J,Ux:()=>yt});var i=p(4946),I=p(8645),j=p(5619),S=p(4829),$=p(5592),A=p(1631),M=p(4266),b=p(4674),k=p(7400);const L=["addListener","removeListener"],G=["addEventListener","removeEventListener"],Ct=["on","off"];function Y(l,c,o,a){if((0,b.m)(o)&&(a=o,o=void 0),a)return Y(l,c,o).pipe((0,k.Z)(a));const[u,d]=function Pt(l){return(0,b.m)(l.addEventListener)&&(0,b.m)(l.removeEventListener)}(l)?G.map(m=>v=>l[m](c,v,o)):function O(l){return(0,b.m)(l.addListener)&&(0,b.m)(l.removeListener)}(l)?L.map(H(l,c)):function ne(l){return(0,b.m)(l.on)&&(0,b.m)(l.off)}(l)?Ct.map(H(l,c)):[];if(!u&&(0,M.z)(l))return(0,A.z)(m=>Y(m,c,o))((0,S.Xf)(l));if(!u)throw new TypeError("Invalid event target");return new $.y(m=>{const v=(...g)=>m.next(1<g.length?g:g[0]);return u(v),()=>d(v)})}function H(l,c){return o=>a=>l[o](c,a)}var re=p(7394);class ie extends re.w0{constructor(c,o){super()}schedule(c,o=0){return this}}const ot={setInterval(l,c,...o){const{delegate:a}=ot;return a?.setInterval?a.setInterval(l,c,...o):setInterval(l,c,...o)},clearInterval(l){const{delegate:c}=ot;return(c?.clearInterval||clearInterval)(l)},delegate:void 0};var st=p(9039);const bt={now:()=>(bt.delegate||Date).now(),delegate:void 0};class _{constructor(c,o=_.now){this.schedulerActionCtor=c,this.now=o}schedule(c,o=0,a){return new this.schedulerActionCtor(this,c).schedule(a,o)}}_.now=bt.now;const we=new class R extends _{constructor(c,o=_.now){super(c,o),this.actions=[],this._active=!1}flush(c){const{actions:o}=this;if(this._active)return void o.push(c);let a;this._active=!0;do{if(a=c.execute(c.state,c.delay))break}while(c=o.shift());if(this._active=!1,a){for(;c=o.shift();)c.unsubscribe();throw a}}}(class B extends ie{constructor(c,o){super(c,o),this.scheduler=c,this.work=o,this.pending=!1}schedule(c,o=0){var a;if(this.closed)return this;this.state=c;const u=this.id,d=this.scheduler;return null!=u&&(this.id=this.recycleAsyncId(d,u,o)),this.pending=!0,this.delay=o,this.id=null!==(a=this.id)&&void 0!==a?a:this.requestAsyncId(d,this.id,o),this}requestAsyncId(c,o,a=0){return ot.setInterval(c.flush.bind(c,this),a)}recycleAsyncId(c,o,a=0){if(null!=a&&this.delay===a&&!1===this.pending)return o;null!=o&&ot.clearInterval(o)}execute(c,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const a=this._execute(c,o);if(a)return a;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(c,o){let u,a=!1;try{this.work(c)}catch(d){a=!0,u=d||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),u}unsubscribe(){if(!this.closed){const{id:c,scheduler:o}=this,{actions:a}=o;this.work=this.state=this.scheduler=null,this.pending=!1,(0,st.P)(a,this),null!=c&&(this.id=this.recycleAsyncId(o,c,null)),this.delay=null,super.unsubscribe()}}});var Tt=p(671);function q(l=0,c,o=we){let a=-1;return null!=c&&((0,Tt.K)(c)?o=c:a=c),new $.y(u=>{let d=function Gt(l){return l instanceof Date&&!isNaN(l)}(l)?+l-o.now():l;d<0&&(d=0);let m=0;return o.schedule(function(){u.closed||(u.next(m++),0<=a?this.schedule(void 0,a):u.complete())},d)})}var Ht=p(8504),Bt=p(2096),w=p(2181),at=p(4664),Rt=p(1374),x=p(9397),Kt=p(6232),Vt=p(9360),Q=p(8251);function lt(l){let o,c=1/0;return null!=l&&("object"==typeof l?({count:c=1/0,delay:o}=l):c=l),c<=0?()=>Kt.E:(0,Vt.e)((a,u)=>{let m,d=0;const v=()=>{if(m?.unsubscribe(),m=null,null!=o){const C="number"==typeof o?q(o):(0,S.Xf)(o(d)),y=(0,Q.x)(u,()=>{y.unsubscribe(),g()});C.subscribe(y)}else g()},g=()=>{let C=!1;m=a.subscribe((0,Q.x)(u,void 0,()=>{++d<c?m?v():C=!0:u.complete()})),C&&v()};g()})}var Z=p(7398);function At(l,c){return(0,Vt.e)((o,a)=>{const{leading:u=!0,trailing:d=!1}=c??{};let m=!1,v=null,g=null,C=!1;const y=()=>{g?.unsubscribe(),g=null,d&&(V(),C&&a.complete())},E=()=>{g=null,C&&a.complete()},P=T=>g=(0,S.Xf)(l(T)).subscribe((0,Q.x)(a,y,E)),V=()=>{if(m){m=!1;const T=v;v=null,a.next(T),!C&&P(T)}};o.subscribe((0,Q.x)(a,T=>{m=!0,v=T,(!g||g.closed)&&(u?V():P(T))},()=>{C=!0,(!(d&&m&&g)||g.closed)&&a.complete()}))})}var ct=p(9773),Dt=p(6306),Ut=p(6699),ut=p(6814),jt=p(6593);function se(l){return"function"==typeof l}const ae=(l,c)=>{let o=0;for(;o<c.length;){if(l(c[o]))return!0;o+=1}return!1},z=l=>l,dt=l=>null==l,N=typeof navigator<"u"&&navigator.userAgent.includes("Mac OS"),Et={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",cmd:N?"metaKey":"ctrlKey",command:N?"metaKey":"ctrlKey",meta:N?"metaKey":"ctrlKey","left command":"metaKey","right command":"MetaRight","\u2318":N?"metaKey":"ctrlKey",option:"altKey",ctl:"ctrlKey",control:"ctrlKey"},Ft={plus:"+"},ht={8:"backspace",9:"tab",13:"enter",16:"shift",17:["ctrl","control"],18:"alt",20:"capslock",27:["esc","escape"],32:["space","spc"],33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:["meta","cmd","command"],93:["meta","cmd","command"],224:["meta","cmd","command"]},Ot={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Jt={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},Oe=function Wt(l){const c={};for(const o in l)l.hasOwnProperty(o)&&(c[l[o]]=o);return c}(Jt);for(let l=1;l<20;++l)ht[111+l]="f"+l;for(let l=0;l<=9;++l)ht[l+96]=l.toString();var W=function(l){return l.Textarea="TEXTAREA",l.Input="INPUT",l.Select="SELECT",l.ContentEditable="CONTENT-EDITABLE",l}(W||{});let tt=0,U=(()=>{class l{constructor(o){this.document=o,this._shortcuts=[],this._sequences=[],this.throttleTime=0,this._pressed=new I.x,this.pressed$=this._pressed.asObservable(),this.disabled=!1,this._shortcutsSub=new j.X([]),this.shortcuts$=this._shortcutsSub.pipe((0,w.h)(a=>!!a.length)),this._ignored=[W.Input,W.Textarea,W.Select,W.ContentEditable],this.isAllowed=a=>{const u=a.event.target,d=!!u.getAttribute("contenteditable"),m=d?W.ContentEditable:u.nodeName;return u===a.target||(a.allowIn.length?!((l,c)=>this._ignored.filter(o=>!c.includes(o)))(0,a.allowIn).includes(m):!d&&!this._ignored.includes(u.nodeName))},this.mapEvent=a=>this._shortcuts.filter(u=>!u.isSequence).map(u=>Object.assign({},u,{predicates:ae(z,u.predicates.map(d=>(l=>(...c)=>{let o=0;const a=l.length;for(;o<a;){if(!l[o].apply(void 0,c))return!1;o+=1}return!0})(d)(a))),event:a})).filter(u=>u.predicates).reduce((u,d)=>u.priority>d.priority?u:d,{priority:0}),this.subscriptions=[],this.keydown$=Y(this.document,"keydown"),this.ignore$=this.pressed$.pipe((0,w.h)(a=>a.event.defaultPrevented),(0,at.w)(()=>this.clicks$.pipe((0,Rt.P)())),(0,x.b)(a=>{a.preventDefault(),a.stopPropagation()}),lt()),this.clicks$=Y(this.document,"click",{capture:!0}),this.keyup$=Y(this.document,"keyup"),this.keydownCombo$=this.keydown$.pipe((0,w.h)(a=>!this.disabled),(0,Z.U)(this.mapEvent),(0,w.h)(a=>!a.target||a.event.target===a.target),(0,w.h)(a=>se(a.command)),(0,w.h)(a=>this.isAllowed(a)),(0,x.b)(a=>{a.preventDefault&&(a.event.preventDefault(),a.event.stopPropagation())}),At(a=>q(a.throttleTime)),(0,x.b)(a=>a.command({event:a.event,key:a.key})),(0,x.b)(a=>this._pressed.next({event:a.event,key:a.key})),(0,ct.R)(this.keyup$),lt(),(0,Dt.K)(a=>(0,Ht._)(a))),this.timer$=new I.x,this.resetCounter$=this.timer$.asObservable().pipe((0,at.w)(()=>q(l.TIMEOUT_SEQUENCE))),this.keydownSequence$=this.keydown$.pipe((0,Z.U)(a=>({event:a,sequences:this._sequences})),(0,Ut.R)((a,u)=>{const{event:d}=u,m=a.events.length,v=m?a.sequences:u.sequences,[g]=this.characterFromEvent(d),C=Array.isArray(g)?[...g,d.key]:[g,d.key],y=v.map(V=>{const T=V.sequence.filter(Qt=>C.some(Zt=>(Ft[Qt[m]]||Qt[m])===Zt)),_t=T.length>0;return V.fullMatch?V:{...V,sequence:T,partialMatch:_t,event:d,fullMatch:_t&&this.isFullMatch({command:V,events:a.events})}}).filter(V=>V.partialMatch||V.fullMatch),[E]=y;if(!E||this.modifiersOn(d))return{events:[],sequences:this._sequences};const P=((l,c)=>c.reduce((o,a)=>{const u=(l=>c=>c[l])(l);return u(a)>u(o)?a:o},{[l]:0}))("priority",y);return y.length>1&&P.fullMatch?{events:[],command:P,sequences:this._sequences}:y.length>1?{events:[...a.events,d],command:y,sequences:y}:E.fullMatch?{events:[],command:E,sequences:this._sequences}:{events:[...a.events,d],command:y,sequences:y}},{events:[],sequences:[]}),(0,at.w)(({command:a})=>Array.isArray(a)?q(500).pipe((0,Z.U)(()=>({command:a.filter(u=>u.fullMatch)[0]}))):(0,Bt.of)({command:a})),(0,ct.R)(this.pressed$),(0,w.h)(({command:a})=>a&&a.fullMatch),(0,Z.U)(({command:a})=>a),(0,w.h)(a=>se(a.command)),(0,w.h)(a=>!a.target||a.event.target===a.target),(0,w.h)(this.isAllowed),(0,x.b)(a=>!a.preventDefault||a.event.preventDefault()),At(a=>q(a.throttleTime)),(0,x.b)(a=>a.command({event:a.event,key:a.key})),(0,x.b)(a=>this._pressed.next({event:a.event,key:a.key})),(0,ct.R)(this.resetCounter$),lt()),this.getKeys=a=>a.map(u=>u.trim()).filter(u=>"+"!==u).map(u=>Et.hasOwnProperty(u=Ft[u]||u)?d=>!!d[Et[u]]:d=>{const m=u===u.toUpperCase(),v=/[^a-zA-Z\d\s:]/.test(u),g=Oe[u],[C]=this.characterFromEvent(d),E=Object.keys(Et).map(V=>Et[V]).some(V=>d[V]),P=Array.isArray(C)?[...C,d.key]:[C,d.key];return!(E&&(!m||v)&&!g&&1===a.length)&&P.some(V=>!(V!==u||!m)||u===V)}),this.subscriptions.push(this.keydownSequence$.subscribe(),this.keydownCombo$.subscribe())}isFullMatch({command:o,events:a}){return!!o&&o.sequence.some(u=>u.length===a.length+1)}get shortcuts(){return this._shortcuts}_characterFromEvent(o){return"number"!=typeof o.which&&(o.which=o.keyCode),Ft[o.which]?[Ft[o.which],o.shiftKey]:ht[o.which]?[ht[o.which],o.shiftKey]:Ot[o.which]?[Ot[o.which],o.shiftKey]:String.fromCharCode(o.which).toLowerCase()!==o.key?[String.fromCharCode(o.which).toLowerCase(),o.shiftKey]:[o.key,o.shiftKey]}characterFromEvent(o){const[a,u]=this._characterFromEvent(o);return u&&Jt[a]?[Jt[a],u]:[a,u]}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}isSequence(o){return!o.some(a=>a.includes("+")||1===a.length)}add(o){o=Array.isArray(o)?o:[o];const a=this.parseCommand(o);return a.forEach(u=>{u.isSequence?this._sequences.push(u):this._shortcuts.push(u)}),setTimeout(()=>{this._shortcutsSub.next([...this._shortcuts,...this._sequences])}),a.map(u=>u.id)}remove(o){return o=Array.isArray(o)?o:[o],this._shortcuts=this._shortcuts.filter(a=>!o.includes(a.id)),this._sequences=this._sequences.filter(a=>!o.includes(a.id)),setTimeout(()=>{this._shortcutsSub.next([...this._shortcuts,...this._sequences])}),this}select(o){return this.pressed$.pipe((0,w.h)(({key:u})=>!!(u=Array.isArray(u)?u:[u]).find(d=>d===o)))}modifiersOn(o){return["metaKey","altKey","ctrlKey"].some(a=>o[a])}parseCommand(o){return(Array.isArray(o)?o:[o]).map(u=>{const d=Array.isArray(u.key)?u.key:[u.key],m=Math.max(...d.map(y=>y.split(" ").filter(z).length)),v=d.map(y=>this.getKeys(y.split(" ").filter(z))),g=this.isSequence(d),C=g?d.map(y=>y.split(" ").filter(z).map(E=>E.trim())):[];return{...u,isSequence:g,sequence:g?C:[],allowIn:u.allowIn||[],key:d,id:""+tt++,throttle:dt(u.throttleTime)?this.throttleTime:u.throttleTime,priority:m,predicates:v}})}}return l.TIMEOUT_SEQUENCE=1e3,l.\u0275fac=function(o){return new(o||l)(i.LFG(ut.K0))},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),J=(()=>{class l{constructor(o){this.keyboard=o,this.shortcuts=[],this.clearIds=[],this._disabled=!1}set disabled(o){this._disabled=o,this.clearIds&&(this.keyboard.remove(this.clearIds),this.clearIds=[]),!o&&(this.clearIds=this.keyboard.add(this.shortcuts))}select(o){return this.keyboard.select(o)}ngOnChanges(o){!o.shortcuts||!o.shortcuts.currentValue||(this.clearIds&&this.keyboard.remove(this.clearIds),this._disabled||setTimeout(()=>this.clearIds=this.keyboard.add(o.shortcuts.currentValue)))}ngOnDestroy(){this.keyboard.remove(this.clearIds)}}return l.\u0275fac=function(o){return new(o||l)(i.Y36(U))},l.\u0275cmp=i.Xpm({type:l,selectors:[["ng-keyboard-shortcuts"]],inputs:{shortcuts:"shortcuts",disabled:"disabled"},features:[i.TTD],decls:0,vars:0,template:function(o,a){},encapsulation:2}),l})(),et=(()=>{class l{constructor(o){this.keyboard=o,this.shortcuts$=this.keyboard.shortcuts$.pipe((0,Z.U)(a=>a.filter(u=>!!u.label&&!!u.description).map(({key:u,label:d,description:m})=>({key:u,label:d,description:m}))))}}return l.\u0275fac=function(o){return new(o||l)(i.LFG(U))},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),xt=(()=>{class l{constructor(o){this.keyboardService=o}select(o){return this.keyboardService.select(o)}}return l.\u0275fac=function(o){return new(o||l)(i.LFG(U))},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),mt=(()=>{class l{constructor(o,a){this.ngZone=o,this.keyboard=a}supports(o){return o.split(".").includes("shortcut")}addEventListener(o,a,u){const d=a.split("."),m=d.includes("prevent");if(0===d.length)throw new Error("please provide a shortcut");const[,v,g,C]=d,y=this.keyboard.add({key:v,command(E){u(E)},description:g,preventDefault:m,label:C});return()=>{this.keyboard.remove(y)}}}return l.\u0275fac=function(o){return new(o||l)(i.LFG(i.R0b),i.LFG(U))},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac}),l})(),yt=(()=>{class l{static forRoot(){return{ngModule:l,providers:[U,et,xt,{multi:!0,provide:jt.s3,useClass:mt}]}}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=i.oAB({type:l}),l.\u0275inj=i.cJS({imports:[[ut.ez]]}),l})();typeof Element>"u"||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(l){let c=this;do{if(c.matches(l))return c;c=c.parentElement||c.parentNode}while(null!==c&&1===c.nodeType);return null})),Array.prototype.flat||(Array.prototype.flat=function(l){var c=[];return function o(a,u){for(let d of a)Array.isArray(d)&&u>0?o(d,u-1):c.push(d)}(this,Math.floor(l)||1),c}),Array.prototype.flatMap||(Array.prototype.flatMap=function(){return Array.prototype.map.apply(this,arguments).flat(1)})},5861:(ee,X,p)=>{function i(j,S,$,A,M,b,k){try{var L=j[b](k),G=L.value}catch(Ct){return void $(Ct)}L.done?S(G):Promise.resolve(G).then(A,M)}function I(j){return function(){var S=this,$=arguments;return new Promise(function(A,M){var b=j.apply(S,$);function k(G){i(b,A,M,k,L,"next",G)}function L(G){i(b,A,M,k,L,"throw",G)}k(void 0)})}}p.d(X,{Z:()=>I})}}]);